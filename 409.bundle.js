/*! For license information please see 409.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[409],{1880:(t,e,r)=>{r.d(e,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([t.id,"",""]);const s=o},7409:(t,e,r)=>{r.r(e),r.d(e,{default:()=>ee});const n=r.p+"images/animator.png",i=r.p+"images/ttt.png",a=r.p+"images/web.png",o=r.p+"images/collage.png";var s=r(6540),c=r(6287),l=r(2347),u=r(7500),f=r(5930),p=r(4198),d=r(7952),h=r(5296),y=r(5610),m=r(9184),b=r(5915),g=r(4254),v=r(8070),_=function(t){var e=t.addNewFrame,r=t.saveAnimState,n=t.fileInput,i=t.handleChange,a=t.backHome,o=t.frameForward,l=t.frameBackward,u=t.playback,p=t.exportMovie,d=t.reset;return s.createElement(c.az,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},s.createElement(b.s,{direction:"row",justifyContent:"space-between",padding:"10px",width:"80%"},s.createElement(c.az,null,s.createElement(f.$,{size:"md",height:"48px",marginRight:"5px",onClick:u},"Play")),s.createElement(c.az,null,s.createElement(f.$,{size:"md",height:"48px",marginRight:"5px",onClick:l},"<--"),s.createElement(f.$,{size:"md",height:"48px",onClick:o},"--\x3e")),s.createElement(f.$,{size:"md",height:"48px",onClick:e},"Add Latest Frame"),s.createElement(f.$,{size:"md",height:"48px",onClick:d},"Delete + Reset Animation"),s.createElement(f.$,{size:"md",height:"48px",onClick:a},"Navigate home"),s.createElement(f.$,{size:"md",height:"48px",onClick:r},"Save project"),s.createElement(v.p,{type:"file",style:{display:"none"},onChange:i,id:"fileInput"}),s.createElement(f.$,{size:"md",height:"48px",onClick:n},"Load project"),s.createElement(f.$,{size:"md",height:"48px",onClick:p},"Export Movie")))},x=r(3114);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){var e,r,n=t.addPerson,i=t.addAnimal,a=t.addBird,o=t.addText,u=t.addCircle,p=t.addStar,d=t.addRect,h=(e=(0,s.useState)(""),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,r)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=h[0],m=h[1];return s.createElement(c.az,{width:"100%",backgroundColor:"white",padding:10},s.createElement(l.T,{spacing:4},s.createElement(f.$,{onClick:n},"Add Person"),s.createElement(f.$,{onClick:i},"Add Animal"),s.createElement(f.$,{onClick:a},"Add Bird"),s.createElement(f.$,{onClick:u},"Add Circle"),s.createElement(f.$,{onClick:p},"Add Star"),s.createElement(f.$,{onClick:d},"Add Rect"),s.createElement(x.T,{placeholder:"Type here...",value:y,onChange:function(t){return m(t.target.value)}}),s.createElement(f.$,{colorScheme:"blue",onClick:function(){o(y)}},"Add Text")))},j=r(2518),S={type:"figure",appearance:{type:"rect",length:100,width:40},id:"figure_add_torso",parent:void 0,offset_x:0,offset_y:0,offset_rotation:0,offset_attach_rotation:0,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},P={type:"figure",appearance:{type:"circle",radius:20},id:"figure_1_head",parent:S,offset_x:20,offset_y:-20,offset_rotation:0,offset_attach_rotation:Math.PI/2,offset_attach_x:0,offset_attach_y:20,dragOverride:!1},O={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_1_left_leg",parent:S,offset_x:0,offset_y:90,offset_rotation:0,offset_attach_rotation:-Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},k={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_1_right_leg",parent:S,offset_x:30,offset_y:90,offset_rotation:0,offset_attach_rotation:-Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},I={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_1_left_arm",parent:S,offset_x:0,offset_y:0,offset_rotation:-Math.PI/4,offset_attach_rotation:-Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},C={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_1_right_arm",parent:S,offset_x:40,offset_y:10,offset_rotation:3*Math.PI/4,offset_attach_rotation:Math.PI/4,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},A={type:"figure",appearance:{type:"rect",length:100,width:40},id:"figure_3_torso",parent:void 0,offset_x:0,offset_y:0,offset_rotation:Math.PI/2,offset_attach_rotation:0,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},F={type:"figure",appearance:{type:"circle",radius:19},id:"figure_3_head",parent:A,offset_x:120,offset_y:-40,offset_rotation:0,offset_attach_rotation:0,offset_attach_x:-20,offset_attach_y:0,dragOverride:!1},T={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_3_leg_1",parent:A,offset_x:0,offset_y:0,offset_rotation:-1*Math.PI/2,offset_attach_rotation:-1*Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},B={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_3_leg_2",parent:A,offset_x:30,offset_y:0,offset_rotation:-1*Math.PI/2,offset_attach_rotation:-1*Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},M={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_3_leg_3",parent:A,offset_x:60,offset_y:0,offset_rotation:-1*Math.PI/2,offset_attach_rotation:-1*Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},z={type:"figure",appearance:{type:"rect",length:50,width:10},id:"figure_3_leg_4",parent:A,offset_x:90,offset_y:0,offset_rotation:-1*Math.PI/2,offset_attach_rotation:-1*Math.PI/2,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},D={type:"figure",appearance:{type:"rect",length:40,width:12},id:"figure_4_torso",parent:void 0,offset_x:0,offset_y:0,offset_rotation:Math.PI/2,offset_attach_rotation:0,offset_attach_x:0,offset_attach_y:0,dragOverride:!1},G={type:"figure",appearance:{type:"circle",radius:12},id:"figure_4_head",parent:D,offset_x:52,offset_y:0,offset_rotation:0,offset_attach_rotation:0,offset_attach_x:-12,offset_attach_y:0,dragOverride:!1},U={type:"figure",appearance:{type:"tri",radius:20},id:"figure_4_wing_1",parent:D,offset_x:20,offset_y:-12,offset_rotation:-1*Math.PI/2,offset_attach_rotation:0,offset_attach_x:-12,offset_attach_y:0,dragOverride:!0},R={type:"figure",appearance:{type:"tri",radius:20},id:"figure_4_wing_2",parent:D,offset_x:20,offset_y:0,offset_rotation:Math.PI/2,offset_attach_rotation:0,offset_attach_x:12,offset_attach_y:0,dragOverride:!0},q=[P,O,k,I,C,S],N=[F,T,B,M,z,A],L=[G,U,R,D];function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){X(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t,e,r){return(e=function(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Y=function(t){return t[t.PERSON=0]="PERSON",t[t.ANIMAL=1]="ANIMAL",t[t.BIRD=2]="BIRD",t}({});function Z(t,e,r){var n,i=(n=t===Y.PERSON?structuredClone(q):t===Y.ANIMAL?structuredClone(N):structuredClone(L))[n.length-1];i.offset_x=e,i.offset_y=r;for(var a=0;a<n.length;a++)n[a].id=crypto.randomUUID();return n}function W(t){for(var e=0,r=0,n=0,i=t;void 0!==i;)e+=i.offset_x,r+=i.offset_y,n+=i.offset_rotation,i=i.parent;return{absoluteX:e,absoluteY:r,absoluteRotation:n}}var V=function(t,e,r,n,i){var a=Math.cos(i),o=Math.sin(i);return{x:a*(r-t)-o*(n-e)+t,y:o*(r-t)+a*(n-e)+e}},J=function(t,e,r){var n=t.target.attrs.id,i=t.target.position().x,a=t.target.position().y;r(e.map((function(e){if("figure"==e.type){var r,o=e,s=o.offset_x,c=o.offset_y,l=o.offset_attach_x,u=o.offset_attach_y,f=o.offset_attach_rotation,p=o.offset_rotation,d=p-f,h=null===(r=t.target.getStage())||void 0===r?void 0:r.getPointerPosition();if(o.id===n&&h){var y=h,m=i+o.offset_attach_x,b=a+o.offset_attach_y,g=y.x-m,v=-y.y+b,_=Math.atan2(v,g);if(void 0===o.parent)s=i,c=a;else{var x=o.offset_attach_rotation-_,w=V(0,0,o.offset_attach_x,o.offset_attach_y,x),E=V(m,b,i,a,x),j=o.parent.offset_x,S=o.parent.offset_y;s=E.x-j,c=E.y-S,l=w.x,u=w.y,p=(f=_)+d}}return void 0!==o.parent&&o.parent.id===n&&(o.parent=H(H({},o.parent),{},{offset_x:i,offset_y:a})),H(H({},o),{},{offset_x:s,offset_y:c,offset_rotation:p,offset_attach_x:l,offset_attach_y:u,offset_attach_rotation:f})}return e})))},K=function(t,e,r,n){var i=W(t);function a(){return{x:(i=W(t)).absoluteX,y:i.absoluteY}}switch(t.appearance.type){case"rect":return s.createElement(j.rw,{key:t.id,id:t.id,x:i.absoluteX,y:i.absoluteY,rotation:i.absoluteRotation*(180/Math.PI)*-1,height:t.appearance.length,width:t.appearance.width,draggable:!t.dragOverride&&n,dragBoundFunc:t.parent&&a,onDragMove:function(t){return J(t,e,r)},fill:"#000000"});case"circle":return s.createElement(j.jl,{key:t.id,id:t.id,x:i.absoluteX,y:i.absoluteY,rotation:i.absoluteRotation*(180/Math.PI)*-1,radius:t.appearance.radius,draggable:!t.dragOverride&&n,dragBoundFunc:t.parent&&a,onDragMove:function(t){return J(t,e,r)},fill:"#000000"});case"tri":return s.createElement(j.Rp,{sides:3,key:t.id,id:t.id,x:i.absoluteX,y:i.absoluteY,rotation:i.absoluteRotation*(180/Math.PI)*-1,draggable:!t.dragOverride&&n,radius:t.appearance.radius,dragBoundFunc:t.parent&&a,onDragMove:function(t){return J(t,e,r)},fill:"#000000"})}};function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nt(t,e,r){return(e=function(t){var e=function(t){if("object"!=tt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(t){switch(t){case"circle":return{shape:"circle",type:"simpleShape",id:crypto.randomUUID(),x:773,y:521,rotation:0,isDragging:!1};case"rect":return{shape:"rect",type:"simpleShape",id:crypto.randomUUID(),x:773,y:521,rotation:0,isDragging:!1};default:return{shape:"star",type:"simpleShape",id:crypto.randomUUID(),x:773,y:521,rotation:0,isDragging:!1}}}var at=function(t,e,r){var n=t.target.position().x,i=t.target.position().y;r(e.map((function(e){if("simpleShape"===e.type){var r=e,a=t.target.attrs.id;return r.id==a?rt(rt({},r),{},{x:n,y:i}):r}return e})))},ot=function(t,e,r,n){return"circle"===t.shape?s.createElement(j.jl,{id:t.id,key:t.id,x:t.x,y:t.y,rotation:t.rotation,radius:20,draggable:n,onDragMove:function(t){return at(t,e,r)},fill:"#000000"}):"star"===t.shape?s.createElement(j.FE,{id:t.id,key:t.id,x:t.x,y:t.y,rotation:t.rotation,numPoints:5,innerRadius:20,outerRadius:40,draggable:n,onDragMove:function(t){return at(t,e,r)},fill:"#000000"}):"rect"===t.shape?s.createElement(j.rw,{id:t.id,key:t.id,x:t.x,y:t.y,width:50,height:30,rotation:t.rotation,draggable:n,onDragMove:function(t){return at(t,e,r)},fill:"#000000"}):void 0};function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ut(t,e,r){return(e=function(t){var e=function(t){if("object"!=st(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t,e,r,n){var i=t;return s.createElement(j.EY,{id:i.id,key:i.id,x:i.x,y:i.y,fontSize:25,text:i.text,draggable:n,onDragMove:function(t){return function(t,e,r){var n=t.target.position().x,i=t.target.position().y;r(e.map((function(e){if("textShape"===e.type){var r=e,a=t.target.attrs.id;return r.id==a?lt(lt({},r),{},{x:n,y:i}):r}return e})))}(t,e,r)}})}var pt=function(t){var e=t.setFrames,r=t.frames,n=t.playbackMode,i=t.currentFrame,a=t.activeLayerRef,o=(0,s.useRef)(null),l=1300;function u(t){e((function(e){var r=e.slice(0,-1),n=e[e.length-1];return n.canvasElements=t,r.push(n),r}))}return s.createElement(c.az,{ref:o,style:{width:l,height:800,backgroundColor:"#e5e5ea"}},s.createElement(j.BI,{width:l,height:800},r.length>1&&i>0&&!n&&s.createElement(j.Wd,{opacity:.1},r[i-1].canvasElements.map((function(t){return console.log("here first"),"figure"==t.type?K(t,r[i-1].canvasElements,u,!1):"simpleShape"==t.type?ot(t,r[i-1].canvasElements,u,!1):"textShape"===t.type?ft(t,r[i-1].canvasElements,u,!1):void 0}))),s.createElement(j.Wd,{ref:a},n&&s.createElement(j.rw,{id:"export-background",key:"export-background",x:0,y:0,width:l,height:800,fill:"#e5e5ea",rotation:0}),r[i].canvasElements.map((function(t){return"figure"==t.type?K(t,r[i].canvasElements,u,i==r.length-1):"simpleShape"==t.type?ot(t,r[i].canvasElements,u,i==r.length-1):"textShape"===t.type?ft(t,r[i].canvasElements,u,i==r.length-1):void 0}))),s.createElement(j.Wd,null,s.createElement(j.EY,{offsetX:-10,offsetY:-10,fontSize:25,text:i+1+" / "+r.length}))))},dt=r(6529),ht=r.n(dt),yt=new Blob(['(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);'],{type:"application/javascript"});function mt(t){var e=URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.style.cssText="display: none",r.href=e,r.download="animation.json",r.click(),URL.revokeObjectURL(e),document.body.removeChild(r)}function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function gt(){var t=jt(),e=t.m(gt),r=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function n(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))}var i={throw:1,return:2,break:3,continue:3};function a(t){var e,r;return function(n){e||(e={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(t,e){return r(n.a,i[t],e)},delegateYield:function(t,i,a){return e.resultName=i,r(n.d,vt(t),a)},finish:function(t){return r(n.f,t)}},r=function(t,r,i){n.p=e.prev,n.n=e.next;try{return t(r,i)}finally{e.next=n.n}}),e.resultName&&(e[e.resultName]=n.v,e.resultName=void 0),e.sent=n.v,e.next=n.n;try{return t.call(this,e)}finally{n.p=e.prev,n.n=e.next}}}return(gt=function(){return{wrap:function(e,r,n,i){return t.w(a(e),r,n,i&&i.reverse())},isGeneratorFunction:n,mark:t.m,awrap:function(t,e){return new Pt(t,e)},AsyncIterator:Et,async:function(t,e,r,i,o){return(n(e)?wt:xt)(a(t),e,r,i,o)},keys:_t,values:vt}})()}function vt(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(bt(t)+" is not iterable")}function _t(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}}function xt(t,e,r,n,i){var a=wt(t,e,r,n,i);return a.next().then((function(t){return t.done?t.value:a.next()}))}function wt(t,e,r,n,i){return new Et(jt().w(t,e,r,n),i||Promise)}function Et(t,e){function r(n,i,a,o){try{var s=t[n](i),c=s.value;return c instanceof Pt?e.resolve(c.v).then((function(t){r("next",t,a,o)}),(function(t){r("throw",t,a,o)})):e.resolve(c).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,o)}))}catch(t){o(t)}}var n;this.next||(St(Et.prototype),St(Et.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),St(this,"_invoke",(function(t,i,a){function o(){return new e((function(e,n){r(t,a,e,n)}))}return n=n?n.then(o,o):o()}),!0)}function jt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return St(l,"_invoke",function(r,n,i){var a,s,c,l=0,u=i||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,s=0,c=t,p.n=r,o}};function d(r,n){for(s=r,c=n,e=0;!f&&l&&!i&&e<u.length;e++){var i,a=u[e],d=p.p,h=a[2];r>3?(i=h===n)&&(s=a[4]||3,c=a[5]===t?a[3]:a[5],a[4]=3,a[5]=t):a[0]<=d&&((i=r<2&&d<a[1])?(s=0,p.v=n,p.n=a[1]):d<h&&(i=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,p.n=h,s=0))}if(i||r>1)return o;throw f=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,c=h;(e=s<2?t:c)||!f;){a||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,a){if(s||(i="next"),e=a[i]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=a.return)&&e.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=t}else if((e=(f=p.n<0)?c:r.call(n,p))!==o)break}catch(e){a=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(r,i,a),!0),l}var o={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(St(e={},n,(function(){return this})),e),f=l.prototype=s.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,St(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,St(f,"constructor",l),St(l,"constructor",c),c.displayName="GeneratorFunction",St(l,i,"GeneratorFunction"),St(f),St(f,i,"Generator"),St(f,n,(function(){return this})),St(f,"toString",(function(){return"[object Generator]"})),(jt=function(){return{w:a,m:p}})()}function St(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}St=function(t,e,r,n){if(e)i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var a=function(e,r){St(t,e,(function(t){return this._invoke(e,r,t)}))};a("next",0),a("throw",1),a("return",2)}},St(t,e,r,n)}function Pt(t,e){this.v=t,this.k=e}function Ot(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function kt(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Ot(a,n,i,o,s,"next",t)}function s(t){Ot(a,n,i,o,s,"throw",t)}o(void 0)}))}}function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ct(t,e,r){return(e=function(t){var e=function(t){if("object"!=bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function At(t){return function(t){if(Array.isArray(t))return Bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||Tt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t,e){if(t){if("string"==typeof t)return Bt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(t,e):void 0}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t){var e=t.backHome,r=Ft((0,s.useState)(!1),2),n=r[0],i=r[1];(0,s.useEffect)((function(){}),[]);var a=s.useRef(null),o={frameID:1,canvasElements:[]},l=Ft((0,s.useState)([o]),2),u=l[0],f=l[1],p=Ft((0,s.useState)(u.length-1),2),d=p[0],h=p[1],y=function(t){h(u.length-1),f((function(e){var r=e.slice(0,-1),n=e[e.length-1];return n.canvasElements=[].concat(At(n.canvasElements),At(t)),r.push(n),r}))},m=function(t){h(u.length-1),f((function(e){var r=e.slice(0,-1),n=e[e.length-1];return n.canvasElements=[].concat(At(n.canvasElements),[t]),r.push(n),r}))},v=function(){var t=kt(gt().mark((function t(){var e;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),h(0),e=function(){var t=kt(gt().mark((function t(r){return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r<u.length-1?setTimeout((function(){h(r+1),e(r+1)}),150):i(!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=6,e(0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=kt(gt().mark((function t(){var e,r,n,o,s;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e=150,i(!0),h(0),null===a.current){t.next=10;break}n=a.current.canvas,(r=new(ht())({workers:1,workerScript:URL.createObjectURL(yt),quality:10,height:n.height,width:n.width})).on("finished",(function(t){mt(t)})),t.next=11;break;case 10:throw new Error;case 11:return s=function(){var t=kt(gt().mark((function t(n){var c;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n<u.length-1)){t.next=10;break}return console.log(n),t.next=4,o(e);case 4:return null!==a.current&&(c=a.current.canvas.context._context,r.addFrame(c,{copy:!0})),h(n+1),t.next=8,s(n+1);case 8:t.next=11;break;case 10:i(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=14,s(0);case 14:r.render();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.createElement(c.az,{backgroundColor:"white"},s.createElement(b.s,{direction:"column"},s.createElement(b.s,null,s.createElement(E,{addPerson:function(){y(Z(Y.PERSON,773,500))},addAnimal:function(){y(Z(Y.ANIMAL,773,500))},addBird:function(){y(Z(Y.BIRD,773,500))},addText:function(t){!function(t){h(u.length-1),f((function(e){var r=e.slice(0,-1),n=e[e.length-1],i={type:"textShape",text:t,x:773,y:500,id:crypto.randomUUID(),isDragging:!1,rotation:0};return n.canvasElements=[].concat(At(n.canvasElements),[i]),r.push(n),r}))}(t)},addCircle:function(){m(it("circle"))},addStar:function(){m(it("star"))},addRect:function(){m(it("rect"))}}),s.createElement(g.h,null),s.createElement(pt,{frames:u,setFrames:f,playbackMode:n,currentFrame:d,activeLayerRef:a})),s.createElement(_,{addNewFrame:function(){h(u.length),f((function(t){var e=t[t.length-1].canvasElements.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){Ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t)})),r={frameID:t.length+1,canvasElements:e};return[].concat(At(t),[r])}))},playback:v,frameBackward:function(){d>0&&h(d-1)},frameForward:function(){d<u.length-1&&h(d+1)},backHome:e,fileInput:function(){var t=document.getElementById("fileInput");null!==t&&t.click()},saveAnimState:function(){var t=JSON.stringify(u);mt(new Blob([t],{type:"application/json"}))},handleChange:function(t){var e=t.target.files[0];if(e){var r=new FileReader;r.onload=function(t){if(null!==t.target&&null!==t.target.result){var e=t.target.result,r=JSON.parse(e);0!==r.length&&(h(0),f(r))}},r.readAsText(e)}},exportMovie:x,reset:function(){f([o]),h(0)}})))}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dt(){var t,e,r=(t=(0,s.useState)("home"),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],i=r[1];return"home"==n?s.createElement(c.az,{backgroundColor:"white",height:"900"},s.createElement(l.T,null,s.createElement(c.az,{paddingY:10,paddingX:20,display:"flex",alignItems:"center",justifyContent:"center"},s.createElement(u.E,{fontSize:30},"Stop Motion Studio")),s.createElement(f.$,{onClick:function(){return i("studio")}},"Go to editor"),s.createElement(c.az,{paddingY:20,paddingX:20,display:"flex",alignItems:"center",justifyContent:"center"},s.createElement("div",{style:{marginTop:"30px"}},s.createElement(u.E,{fontSize:20}," ","- Use the panel on the left to add new shapes to the canvas."," "),s.createElement(u.E,{fontSize:20}," ","- Add a new frame by using the 'Add Latest Frame' button"," "),s.createElement(u.E,{fontSize:20}," ","- Traverse through added frames by using the arrow buttons"," "),s.createElement(u.E,{fontSize:20}," - Use the play button to play animations. "),s.createElement(u.E,{fontSize:20}," ","- Load an existing project into the canvas using 'Load Project'"," "),s.createElement(u.E,{fontSize:20}," ","- Use 'Save Project' to continue working in future sessions."," "),s.createElement(u.E,{fontSize:20}," ","- Download your animation as a GIF using the 'Export Movie' button"," "))))):"studio"==n?s.createElement(Mt,{backHome:function(){i("home")}}):s.createElement(s.Fragment,null)}const Gt=function(t){var e=t.isOpen,r=t.onClose;return s.createElement(p.aF,{isOpen:e,onClose:r,closeOnOverlayClick:!1},s.createElement(d.m,null),s.createElement(h.$,{height:"900px",maxW:"1600px",maxH:"900px"},s.createElement(y.r,null,"Stop Motion Studio"),s.createElement(m.s,null),s.createElement(Dt,null)))};var Ut=r(5072),Rt=r.n(Ut),qt=r(7825),Nt=r.n(qt),Lt=r(7659),$t=r.n(Lt),Qt=r(5056),Ht=r.n(Qt),Xt=r(540),Yt=r.n(Xt),Zt=r(1113),Wt=r.n(Zt),Vt=r(1880),Jt={};function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}Jt.styleTagTransform=Wt(),Jt.setAttributes=Ht(),Jt.insert=$t().bind(null,"head"),Jt.domAPI=Nt(),Jt.insertStyleElement=Yt(),Rt()(Vt.A,Jt),Vt.A&&Vt.A.locals&&Vt.A.locals;var te=[{id:1,title:"This Website",description:"This website was made without templates, totally from scratch. It was built using React, TypeScript, and CSS. I plan to continue to update and improve it as I learn more about web development. Feedback is welcome!",imageUrl:a,liveUrl:"",repoUrl:"https://github.com/bbuckwheatt/website"},{id:2,title:"Stop Motion Animator",description:"Proposed, developed, and implemented a fully functional stop-motion animation studio in the open-source remote collaboration tool, Covey.Town, utilizing React, TypeScript, and the Agile development system.",imageUrl:n,liveUrl:"https://stop-motion-studio-hyvi.onrender.com",repoUrl:"https://github.com/neu-cs4530/covey-town-project-team-603"},{id:3,title:"Photo Editor App",description:"Utilized polymorphism and composition to create a decoupled, extensible tool in Java to collage and filter photos",imageUrl:o,liveUrl:"https://github.com/bbuckwheatt/collage",repoUrl:"https://github.com/bbuckwheatt/collage"},{id:4,title:"Tic Tac Toe Game",description:"Created a simple Tic Tac Toe game using React and TypeScript. Playable with 2 players in Northeastern University's Covey.Town, complete with a leaderboard and options to spectate games in progress.",imageUrl:i,liveUrl:"https://stop-motion-studio-hyvi.onrender.com",repoUrl:"https://github.com/neu-cs4530/covey-town-project-team-603"},{id:5,title:"New York City Property Price Estimator",description:"This is a brief description of Project One.",imageUrl:"",liveUrl:"http://liveurl.com",repoUrl:"http://repourl.com"}];const ee=function(){var t,e,r=(t=(0,s.useState)(!1),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Kt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],i=r[1],a=function(){console.log("Opening modal"),i(!0)};return s.createElement("section",{className:"projects"},s.createElement("h1",null,"My Projects"),s.createElement("div",{className:"project-list"},te.map((function(t){return s.createElement("div",{key:t.id,className:"project"},s.createElement("img",{src:t.imageUrl,alt:t.title,className:"project-image"}),s.createElement("h3",null,t.title),s.createElement("p",null,t.description),2===t.id?s.createElement("a",{onClick:a},"Open Studio"):s.createElement(s.Fragment,null,s.createElement("a",{href:t.liveUrl,target:"_blank",rel:"noopener noreferrer"},"View Live"),s.createElement("a",{href:t.repoUrl,target:"_blank",rel:"noopener noreferrer"},"View Code")))}))),s.createElement(Gt,{isOpen:n,onClose:function(){console.log("Closing modal"),i(!1)}}))}}}]);